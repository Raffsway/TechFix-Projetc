<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tech Fix - Nova Solicitação de Manutenção</title>
  <link rel="stylesheet" href="/css/global.css">
  <style>
    input[readonly],
    textarea[readonly] {
      background-color: #f3f4f6;
      color: #4b5563;
      cursor: not-allowed;
      border-color: #d1d5db;
    }

    input[readonly]:focus,
    textarea[readonly]:focus {
      outline: 2px solid transparent;
      outline-offset: 2px;
      border-color: #d1d5db;
      box-shadow: none;
    }
  </style>
</head>

<body class="new-service-page">
  <header class="site-header bg-techfix-dark-blue text-white shadow-md fixed w-full top-0 z-40">
    <div class="container mx-auto px-4">
      <a href="/admin" class="logo-link text-2xl font-bold">TechFix</a>
      <div class="flex items-center gap-x-4">
     
        <div id="user-menu-container" class="relative ml-auto">
          <button id="user-menu-button"
            class="flex items-center gap-2 p-2 hover:bg-techfix-light-blue rounded-md transition-colors"
            aria-label="Menu do usuário" aria-haspopup="true" aria-expanded="false">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-circle-user-round">
              <path d="M18 20a6 6 0 0 0-12 0" />
              <circle cx="12" cy="10" r="4" />
              <circle cx="12" cy="12" r="10" />
            </svg>
            <span id="user-name-display" class="text-sm hidden sm:inline">Admin</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-chevron-down hidden sm:inline">
              <path d="m6 9 6 6 6-6" />
            </svg>
          </button>
          <div id="user-dropdown"
            class="absolute right-0 mt-2 w-56 bg-white text-techfix-dark-blue rounded-md shadow-lg py-1 z-50 hidden origin-top-right"
            role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button">
            <div class="user-dropdown-header-info">
              <p class="label">Logado como:</p>
              <p id="user-name-dropdown" class="text-sm font-medium text-techfix-dark-blue truncate">admin@techfix.com
              </p>
            </div>
            <a href="/update-profile" class="block px-4 py-2 text-sm hover:bg-gray-100" role="menuitem">Atualizar
              Dados</a>
            <button id="logout-button" class="block w-full text-left px-4 py-2 text-sm hover:bg-gray-100"
              role="menuitem">Encerrar Sessão</button>
          </div>
        </div>
      </div>
    </div>
  </header>
  <div class="container mx-auto px-4 pt-0 pb-8">
    <div class="mb-6 mt-6"><a href="/admin"
        class="inline-flex items-center text-techfix-dark-blue hover:text-techfix-light-blue"><svg
          xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-1">
          <path d="m12 19-7-7 7-7" />
          <path d="M19 12H5" />
        </svg><span>Voltar ao painel</span></a></div>
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-techfix-dark-blue mb-2">Nova Solicitação de Manutenção</h1>
      <p class="text-gray-600">Preencha os dados para criar uma nova ordem de serviço.</p>
    </div>
    <div class="max-w-2xl mx-auto">
      <form id="new-service-form" class="contact-form">
        <div class="mb-6 p-4 bg-gray-50 rounded-md border border-gray-200">
          <h3 class="text-lg font-medium mb-3 flex items-center text-techfix-dark-blue"><svg
              xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2">
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
              <circle cx="9" cy="7" r="4" />
              <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
              <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>Dados do Cliente</h3>
          <div class="form-group"><label for="clientCpf" class="block mb-1 font-medium text-sm">CPF do Cliente <span
                class="text-red-500">*</span> <span class="text-xs text-gray-500">(Digite para buscar ou liberar campos
                abaixo)</span></label><input type="text" id="clientCpf" name="clientCpf"
              class="w-full border border-gray-300 rounded-md p-2 text-sm" placeholder="000.000.000-00" maxlength="14"
              required />
            <div id="clientCpf-feedback" class="text-xs mt-1"></div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-3 mb-3">
            <div class="form-group"><label for="clientName" class="block mb-1 font-medium text-sm">Nome do Cliente <span
                  class="text-red-500">*</span></label><input type="text" id="clientName" name="clientName"
                class="w-full border border-gray-300 rounded-md p-2 text-sm" placeholder="Busque por CPF ou preencha"
                required readonly /></div>
            <div class="form-group"><label for="clientPhone" class="block mb-1 font-medium text-sm">Telefone do Cliente
                <span class="text-red-500">*</span></label><input type="tel" id="clientPhone" name="clientPhone"
                class="w-full border border-gray-300 rounded-md p-2 text-sm" placeholder="Busque por CPF ou preencha"
                maxlength="15" required readonly /></div>
          </div>
        </div>
        <hr class="my-6">
        <h3 class="text-lg font-medium mb-3 text-techfix-dark-blue">Detalhes do Serviço</h3>
        <div class="form-group"><label for="equipmentType" class="block mb-2 font-medium">Tipo de Equipamento <span
              class="text-red-500">*</span></label><select id="equipmentType" name="equipmentType"
            class="w-full border border-gray-300 rounded-md bg-white p-2 h-[2.5rem]" required>
            <option value="">Selecione o tipo de equipamento</option>
            <option value="Celular">Celular</option>
            <option value="Computador">Computador</option>
            <option value="Notebook">Notebook</option>
            <option value="Impressora">Impressora</option>
            <option value="Tablet">Tablet</option>
            <option value="Monitor">Monitor</option>
            <option value="Outro">Outro</option>
          </select></div>
        <div class="form-group"><label for="serviceType" class="block mb-2 font-medium">Tipo de Serviço <span
              class="text-red-500">*</span></label><select id="serviceType" name="serviceType"
            class="w-full border border-gray-300 rounded-md bg-white p-2 h-[2.5rem]" required>
            <option value="">Selecione o tipo de serviço</option>
            <option value="Diagnóstico">Diagnóstico Técnico</option>
            <option value="ReparoHardware">Reparo de Hardware</option>
            <option value="ReparoSoftware">Reparo de Software / Remoção de Vírus</option>
            <option value="Formatação">Formatação com/sem Backup</option>
            <option value="InstalacaoSoftware">Instalação de Software</option>
            <option value="UpgradeHardware">Upgrade de Hardware</option>
            <option value="Montagem">Montagem de Computadores</option>
            <option value="Limpeza">Limpeza Preventiva</option>
            <option value="Outro">Outro Tipo de Serviço</option>
          </select></div>
        <div class="form-group"><label for="description" class="block mb-2 font-medium">Descrição do Problema/Serviço
            <span class="text-red-500">*</span></label><textarea id="description" name="description"
            class="w-full border border-gray-300 rounded-md min-h-[120px] p-2"
            placeholder="Descreva detalhadamente o problema do equipamento ou o serviço solicitado" required></textarea>
        </div>
        <div class="form-group"><label for="photo" class="block mb-2 font-medium">Foto do Equipamento (opcional)</label>
          <div id="imageUploadArea"
            class="border-2 border-dashed border-gray-300 rounded-md p-6 flex flex-col items-center justify-center cursor-pointer hover:border-techfix-light-blue transition-colors">
            <div id="imagePreviewContainer" class="w-full hidden"><img id="imagePreview" src="#" alt="Preview da Imagem"
                class="max-h-48 mx-auto rounded-md mb-2" />
              <p class="text-sm text-center text-gray-500">Clique na imagem para trocar ou remover</p>
            </div>
            <div id="uploadIconContainer"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" class="mb-2 text-gray-400">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="17 8 12 3 7 8" />
                <line x1="12" x2="12" y1="3" y2="15" />
              </svg>
              <p class="text-gray-500 text-sm">Clique ou arraste para adicionar uma foto</p>
              <p class="text-xs text-gray-400 mt-1">JPG, PNG, GIF - Máx 5MB</p>
            </div><input type="file" id="photo" name="photo" accept=".jpg, .jpeg, .png, .gif" class="hidden" />
          </div>
        </div>
        <div class="form-group mt-8"><button type="submit" id="submit-service-button"
            class="btn btn-primary w-full text-base py-3">Enviar Solicitação</button></div>
      </form>
    </div>
  </div>
  <div id="toast-container" class="fixed top-4 right-4 z-50"></div>
  <script src="/js/utils.js"></script>
  <script src="/js/newService.js"></script>
</body>

</html>